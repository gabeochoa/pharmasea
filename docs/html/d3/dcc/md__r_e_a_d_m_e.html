<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pharmasea: pharmasea</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Pharmasea
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">pharmasea </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>libraries used:</p><ul>
<li>raylib</li>
<li>Raylib Operator Overloads <a href="https://github.com/ProfJski/RaylibOpOverloads">https://github.com/ProfJski/RaylibOpOverloads</a><ul>
<li>Added a #define that removes all the raygui stuff</li>
<li>Made every function inline since i globally include and the linker not happy with so many definitions (odr?)</li>
</ul>
</li>
<li>AppData stuff <a href="https://github.com/sago007/PlatformFolders">https://github.com/sago007/PlatformFolders</a></li>
<li>Steam's GameNetworkingSockets <a href="https://github.com/ValveSoftware/GameNetworkingSockets">https://github.com/ValveSoftware/GameNetworkingSockets</a></li>
<li>HTTPRequest <a href="https://github.com/elnormous/HTTPRequest">https://github.com/elnormous/HTTPRequest</a></li>
<li>fmt <a href="https://github.com/fmtlib/fmt">https://github.com/fmtlib/fmt</a></li>
<li>tl::expected <a href="https://github.com/TartanLlama/expected">https://github.com/TartanLlama/expected</a></li>
<li>magic enum <a href="https://github.com/Neargye/magic_enum.git">https://github.com/Neargye/magic_enum.git</a></li>
<li>tracy <a href="https://github.com/wolfpld/tracy">https://github.com/wolfpld/tracy</a></li>
</ul>
<p>Models from</p><ul>
<li><a href="https://www.kenney.nl/assets?q=3d">https://www.kenney.nl/assets?q=3d</a></li>
<li><a href="https://kaylousberg.itch.io/kay-kit-mini-game-variety-pack">https://kaylousberg.itch.io/kay-kit-mini-game-variety-pack</a></li>
</ul>
<p>Info about the todo chart</p><ul>
<li>full raw data is in <a class="el" href="../../d9/df4/todo_8md.html">todo.md</a> and managed by obsidian</li>
<li>hide the "backlog" here but trust me theres lots more todo</li>
<li>only show the most recent 10 done items</li>
<li>to regerate the table below run python <a class="el" href="../../d0/da6/kanban_8py.html">kanban.py</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
TODOs</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">needed to play once   </th><th class="markdownTableHeadNone">in progress   </th><th class="markdownTableHeadNone">blocked   </th><th class="markdownTableHeadNone">done    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">In pause menu, remap key bindings in layer for arrows keys to choose options   </td><td class="markdownTableBodyNone">Support for "windows" or "modals" in ui framework   </td><td class="markdownTableBodyNone">highlight furniture under selection   </td><td class="markdownTableBodyNone">Magic Enum? <a href="https://github.com/Neargye/magic_enum">https://github.com/Neargye/magic_enum</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BUG: if customer runs into someone you both get stuck   </td><td class="markdownTableBodyNone">dropdown needs scrollbar when subwindow goes offscreen   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">change UI from in world to render-to-texture    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WARN: need a way to warn that UI elements are offscreen "purpling"   </td><td class="markdownTableBodyNone">pill bottle barrel   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Add ailments for customers    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BUG: Hide pause buttons from non-host since they dont really do anything anyway   </td><td class="markdownTableBodyNone">placeholder bottle pill filler   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">bag box to get paper bags from    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">BUG: When host opens settings, probably dont bring everyone else too   </td><td class="markdownTableBodyNone">Ability to do different shaders between gaming and menu   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Put all things that have to be loaded in a single place    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">button hover state color change   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">resolution switcher to settings page    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Disallow target cube from going outside of bounds    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Refactor Library to be more generic    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">add diagonal facing direction    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Add easy-to-use UI buttons   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md3"></a>
End TODO</h1>
<h1><a class="anchor" id="autotoc_md4"></a>
Changelog</h1>
<p>if youd like to try a specific version, the easiest way is to use gitblame to find the commit the changelog line was added and then just checkout that hash (sorry im not doing releases / tags atm)</p>
<h2><a class="anchor" id="autotoc_md5"></a>
alpha_0.23.01.16</h2>
<p>bug fixes</p><ul>
<li>Change item position for table so empty bag is easier to see</li>
<li>dont allow bags to go into bags</li>
<li>fix bug where sounds loaded after settings load would use wrong volume setting (though might still be happening)</li>
<li>fix a todo for stopping paste when itll go over max length</li>
</ul>
<p>impact</p><ul>
<li>Add new player models (no more red square)</li>
<li>Add Round timer UI</li>
<li>Render items held inside other items (kinda janky tho)</li>
<li>Add pills and pill bottles (with Supply as barrel)</li>
<li>Make it so you can drop merge items (holding pill bottle drop onto bag)</li>
<li>Box model now responds to planning vs game (it opens :D )</li>
<li>Add logic so customers only want to pick up a bag containing a pill bottle</li>
<li>Add toast system to show all the network annoucements that we've had logs for</li>
<li>Remove player from game when they disconnect</li>
<li>Add "last used ip" button for quality of life</li>
<li>new Music for menu and in game</li>
<li>Add a bunch of PA announcment sounds</li>
<li>add validation for ip address input (2 weeks ago) &lt;Gabe Ochoa&gt;</li>
<li>Added "hold to backspace" for textfiends and should feel decent</li>
</ul>
<p>better eng</p><ul>
<li>Better Model Library api</li>
<li>Can now "do work" on some furniture</li>
<li>add ability for sound library to play a random sound given a prefix</li>
<li>add expected and magic_enum libraries</li>
<li>add basic tracing support through Tracy (much better than PROFILE())</li>
<li>base class for an item container</li>
<li>new job system that is hopefully more readable and more resilient</li>
<li>smaller font cache</li>
<li>add util::join and util::words_in_string for later wrap use</li>
<li>extract font sizer to its own file</li>
<li>add toast framework</li>
<li>move raylib into a namespace, and expose through graphics.h</li>
<li>add basic trie datastructure</li>
<li>introduce delay for small packets to remove overhead and reduce map update speed by 2x</li>
<li>add message queue so we can separate process and deserialize later on</li>
<li>increase packet buffer size to 1mb</li>
<li>UIContext cleanup its not better but it is more readable</li>
<li>add print statement on close to show how many things are in the library</li>
<li>add for-each in folder to files api</li>
<li>better sound play api</li>
<li>move controller loading to File::get() api</li>
</ul>
<p>soon</p><ul>
<li>Add ability to save and load chosen player model</li>
<li>disable pathfinding cache for now due to too many segfaults...</li>
<li>add menu system in settingslayer which loads and prepares us for keybinding settings</li>
<li>internal server cleanup though more to do here</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
alpha_0.22.12.26</h2>
<p>Last update of the year</p>
<p>impact</p><ul>
<li>none cause its code freeze time, see ya in january</li>
</ul>
<p>better eng</p><ul>
<li>start engine extraction so we can use this for other games in the future :)</li>
<li>fix bug where settings screen would show the wrong resolution on startup</li>
<li>add more default resolutions</li>
<li>fixed undefined behavior in network/client.h</li>
<li>fixed bug with map serialization</li>
<li>deleted world.h you will be missed.</li>
</ul>
<p>soon</p><ul>
<li>scrolling?</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
alpha_0.22.12.05</h2>
<p>impact</p><ul>
<li>Conveyer! and Grabber Conveyer!<ul>
<li>You can now grab items and transport them to customers without touching items</li>
</ul>
</li>
<li>Fix issue with layer order so Pause Menu is ontop of all game items</li>
<li>Resolution Switcher in settings page! (But hard to use :$)</li>
<li>Basic Symptoms and Ailments with speed and stagger modifiers</li>
<li>Bag-Box furniture, to get empty bags from (new model for empty bags)</li>
<li>Pill Bottle model, but not in game yet</li>
<li>Post-Processing shaders written by AI (+ can disable in settings)</li>
</ul>
<p>better eng</p><ul>
<li>Added dropdowns (but you cant scroll yet)</li>
<li>Switched to tracking todos in Obsidian with a <a class="el" href="../../d0/da6/kanban_8py.html">kanban.py</a> script to populate readme</li>
<li>Add Ideas about "Bar"s to <a class="el" href="../../d8/def/ideas_8md.html">ideas.md</a> cause idk anything about pharmacies</li>
<li>Lots of updates to UI rendering code to remove deprecated rendering</li>
<li>Unloading support for Library destroy-cleanup</li>
<li>Switched from our own operator overloads to using a library (though i had to mess with it a bit)</li>
<li>Faster compiling on mac through .o separation (though still lots causing recompilation at the moment since game.cpp includes everything)</li>
<li>Menu UI modernization updates (though many more to do)</li>
<li>Remove need to pass mouse information into UI context</li>
</ul>
<p>soon</p><ul>
<li>Scrolling UI elements</li>
<li>Able to have different post processing shaders for game / menu</li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
alpha_0.22.11.21</h2>
<p>impact</p><ul>
<li>Conveyer works and delivers to Register</li>
<li>Streamer Safe box visualization and settings</li>
</ul>
<p>better eng</p><ul>
<li>Inputs are enum'd so we can better track usage</li>
<li>Add helper macros for UI Size expectations</li>
<li>Better menu system to allow easier go_back functionality</li>
<li>better getMatchingEntity</li>
<li></li>
</ul>
<p>soon</p><ul>
<li>Conveyer Grabber</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
alpha_0.22.11.14</h2>
<p>impact</p><ul>
<li>Map now send across network</li>
<li>Map now respects seed sent in</li>
<li>Version checking for player join</li>
<li>Friends can now pick up items and you can see!</li>
</ul>
<p>better eng</p><ul>
<li>Serialize entity, map, furniture, item (unblocks syncing across network)</li>
<li>Add planning and game modes (and pausedplanning)</li>
<li>more constexpr for globals</li>
<li>add announcement types to annoucements (eventually do popups?)</li>
<li>better default tab location on Network screen</li>
<li>Fix issue where tabbed item could be invisible</li>
<li>Move server into its own thread</li>
</ul>
<p>soon</p><ul>
<li>Conveyer</li>
<li>Add settings page to pause menu ?</li>
</ul>
<h2><a class="anchor" id="autotoc_md10"></a>
alpha_0.22.11.07</h2>
<p>impact</p><ul>
<li>Show IP address of host (hidden by default, has toggle button)</li>
<li>Add copy button for ip</li>
<li>Add ability to edit username from any screen showing it</li>
<li>Add settings.bin file for storing settings across sessions</li>
<li>^Skip username selector when already setup</li>
<li>Add pause menu (continue / quit)</li>
<li>Fix bug where "exit" button would just crash game to close instead of using close() functionality (so now saves work on exit button)</li>
<li>Fix crash when switching from host to peer after hosting</li>
</ul>
<p>better eng</p><ul>
<li>Slightly better focus ring selection, still need much more work on network screen</li>
<li>Tables spawn with items on them since items cant be on the ground</li>
<li>Add debug ui layer and move most debug info to it (Turn it on / off with '\')</li>
<li>Add defer which you can use to force cleanup at end of scope (see defer.h for usage)</li>
<li>Add profiler to see avg ms spent in function</li>
</ul>
<p>soon</p><ul>
<li>Conveyer</li>
<li>Add settings page to pause menu ?</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
alpha_0.22.10.31</h2>
<p>impact</p><ul>
<li>Added the ability to paste into textfields</li>
<li>Multiplayer on both platforms ! (though you need to port forward :770)</li>
<li>Multiplayer movement is now sync'd across the network</li>
</ul>
<p>better eng</p><ul>
<li>We made the decision to switch from yojimbo to GameNetworkSockets.</li>
<li>create Library&lt;T&gt; base class for easier library management later</li>
<li>Add UI context ownership for widgets for better UI code</li>
<li>Made <code>EntityHelper::getMatchingEntityInFront</code> feel much better.</li>
</ul>
<p>soon</p><ul>
<li>Sync more info across network</li>
</ul>
<h2><a class="anchor" id="autotoc_md12"></a>
alpha_0.22.10.25</h2>
<p>impact</p><ul>
<li>Spent most of the week doing network programming with enet.<ul>
<li>Got multiplayer movement working (check screenshots folder)</li>
<li>Had too many issues on windows, need to migrate over to a new library</li>
</ul>
</li>
<li>Character names generator (Thanks Alice for the lists)</li>
<li>Textfield ui component</li>
<li>Timer object that can be treated as continuous or as n-shot timer</li>
<li>Music and Sounds!<ul>
<li>Customer order sound effect</li>
<li>Gameplay placeholder music WAHWAH</li>
<li>Placeholder roblox oof sound when running into customers</li>
<li>Volume slider now actually controls master volume</li>
</ul>
</li>
<li>Table that you can use to place items down</li>
<li>Prevent Person types from getting stuck in each other. (might need some more work)</li>
<li>Model for Cash Register (though its a bit dark cause no textures)</li>
<li>Job System for customers !<ul>
<li>They will now come in and line up for their RX,</li>
<li>once they get one at the register they'll take it and go</li>
</ul>
</li>
</ul>
<p>better engineering</p><ul>
<li>Gabe got a windows machine setup to help create builds long term</li>
<li>Include libs directly in vendor folder for easier first time setup</li>
<li>Added better UI memory management so we can use composable functions for design / branching</li>
<li>Added working headers for ailments/medicines/names (functionality coming soon?)</li>
<li>Cached all isWalkable checks</li>
</ul>
<p>soon</p><ul>
<li>switching to yojimbo</li>
<li>System for highlighting selected items / furniture (working sometimes but definitely not done)</li>
<li>autolayout (launched but still missing dropdown ui element)</li>
<li>Had windows issues with Sago library, blocked until we can figure out windows.h</li>
<li>Working on a stagger walk</li>
</ul>
<h2><a class="anchor" id="autotoc_md13"></a>
alpha_0.22.10.17</h2>
<p>impact</p><ul>
<li>added Controller movement for camera / menus</li>
<li>New ailment icons and bag model</li>
<li>Switched from manually checking entities for pathfinding to using a navmesh w/ caching</li>
<li>Added Register furniture and customers now wait in line</li>
<li>Remove all non theme'd ui color usages</li>
<li>Can now pick up and rotate furniture</li>
</ul>
<p>better engineering</p><ul>
<li>All loading happens in preloader now</li>
<li>Rotational facing logic rehaul + diagonal walking</li>
<li>Better font caching</li>
<li>Reduced lots of warnings</li>
<li>Better testing infrastructure</li>
<li>Slowed down the customer and made picking up items easier</li>
</ul>
<p>soon</p><ul>
<li>Tests for entity fetching</li>
<li>System for highlighting selected items / furniture</li>
<li>Migration to autolayout 99% complete (missing dropdown ui element)</li>
<li>Had windows issues with Sago library, blocked until we can figure out windows.h</li>
</ul>
<h2><a class="anchor" id="autotoc_md14"></a>
alpha_0.22.10.10</h2>
<ul>
<li>nicer buttons and colors across all UI (unified theme :) )</li>
<li>new font!!</li>
<li>added texture loading with an image file</li>
<li>cleaned up a bunch of code (maybe making folders next? wdyt)</li>
<li>added a new customer person that has a name above their head (see video)</li>
<li>added a texture library</li>
<li>Speech Bubble on Customer (though with billboard cant place anything on it yet)</li>
<li>Started work on a UI autolayout-er</li>
<li>Added a tests/ folder with a way for all tests to run on startup</li>
</ul>
<p>pre-history</p><ul>
<li>added a library for finding the right savegame folder (like AppData etc) cause its different on every platform.</li>
<li>added loading / writing settings files (uncomment #define WRITE_FILES to test it out)</li>
<li>added a focus ring so its more obvious what you are tabbed into on ui </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
