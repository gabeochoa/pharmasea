\hypertarget{base__component_8h_source}{}\doxysection{base\+\_\+component.\+h}
\label{base__component_8h_source}\index{src/components/base\_component.h@{src/components/base\_component.h}}
\mbox{\hyperlink{base__component_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <array>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <bitset>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <map>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}../vendor\_include.h"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_entity}{Entity}};}
\DoxyCodeLine{00012\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_base_component}{BaseComponent}};}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{base__component_8h_a94f76e23195dbdeee169cc932589d8c2}{max\_num\_components}}\ =\ 64;}
\DoxyCodeLine{00015\ \textcolor{keyword}{using\ }\mbox{\hyperlink{base__component_8h_a98fb6146960da76455a4eff579874b99}{ComponentBitSet}}\ =\ std::bitset<max\_num\_components>;}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ originally\ this\ was\ a\ std::array<BaseComponent*,\ max\_num\_components>\ but\ i}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ cant\ seem\ to\ serialize\ this\ so\ lets\ try\ map}}
\DoxyCodeLine{00018\ \textcolor{keyword}{using\ }\mbox{\hyperlink{base__component_8h_a6590d811f937021135bb1e6d55f05efb}{ComponentArray}}\ =\ std::map<int,\ BaseComponent*>;}
\DoxyCodeLine{00019\ \textcolor{keyword}{using\ }\mbox{\hyperlink{base__component_8h_abe9a936bbede2282b4b50d41672650fc}{ComponentID}}\ =\ int;}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacecomponents}{components}}\ \{}
\DoxyCodeLine{00022\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00023\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{base__component_8h_abe9a936bbede2282b4b50d41672650fc}{ComponentID}}\ \mbox{\hyperlink{namespacecomponents_1_1internal_a5e6a128f8b3e5d49dfe1c62088626a87}{get\_unique\_id}}()\ noexcept\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{base__component_8h_abe9a936bbede2282b4b50d41672650fc}{ComponentID}}\ lastID\{0\};}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{return}\ lastID++;}
\DoxyCodeLine{00026\ \}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00031\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{base__component_8h_abe9a936bbede2282b4b50d41672650fc}{ComponentID}}\ \mbox{\hyperlink{namespacecomponents_a0028953e981b5d753f5f701dbba74ed1}{get\_type\_id}}()\ noexcept\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_base\_of<BaseComponent,\ T>::value,}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}T\ must\ inherit\ from\ BaseComponent"{}});}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{base__component_8h_abe9a936bbede2282b4b50d41672650fc}{ComponentID}}\ typeID\{\mbox{\hyperlink{namespacecomponents_1_1internal_a5e6a128f8b3e5d49dfe1c62088626a87}{internal::get\_unique\_id}}()\};}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordflow}{return}\ typeID;}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ \}\ \ \textcolor{comment}{//\ namespace\ components}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_base_component}{BaseComponent}}\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{struct_base_component_ac74326a615877f3c1a17bc47787ad91e}{BaseComponent}}()\ \{\}}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{struct_base_component_abec738e46eb8875697d7f9497958543d}{BaseComponent}}(\mbox{\hyperlink{struct_base_component}{BaseComponent}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_base_component_ac7389bfd8b903625667e1427ef3cb70b}{onAttach}}()\ \{\}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{struct_base_component_ab281730e838c4cb33e96ab6d6b7fe15f}{\string~BaseComponent}}()\ \{\}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{friend}\ bitsery::Access;}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_base_component_ac5a7fc8666112780fcf9148f25f08e45}{serialize}}(S\&)\ \{\}}
\DoxyCodeLine{00051\ \};}

\end{DoxyCode}
