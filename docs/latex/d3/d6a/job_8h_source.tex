\hypertarget{job_8h_source}{}\doxysection{job.\+h}
\label{job_8h_source}\index{src/job.h@{src/job.h}}
\mbox{\hyperlink{job_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{external__include_8h}{external\_include.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061}{JobType}}\ \{}
\DoxyCodeLine{00008\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061ac9d3e887722f2bc482bcca9d41c512af}{None}}\ =\ 0,}
\DoxyCodeLine{00009\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061a9779a7e9f14b8a5b1d7640a1ff0dab26}{Wait}}\ =\ 1,}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061a09f75d0d98237b83e1c26c971defab05}{Wandering}},}
\DoxyCodeLine{00012\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061a69a6133adad5dae8091acd3bd803024c}{EnterStore}},}
\DoxyCodeLine{00013\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061ae08427223ab334cad1c2cfdd91c99411}{WaitInQueue}},}
\DoxyCodeLine{00014\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061ad0c49177fc112661d87e4208d35e98e3}{WaitInQueueForPickup}},}
\DoxyCodeLine{00015\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061a49e2d1588ae4d37ed14d389306c424fa}{Paying}},}
\DoxyCodeLine{00016\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061a10f23da8d8e9f45aa56e0fd602f6363f}{Leaving}},}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061a548d02e3faef93e8c6b9645d5ce90994}{MAX\_JOB\_TYPE}},}
\DoxyCodeLine{00019\ \};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_entity}{Entity}};}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_job}{Job}}\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{job_8h_a60db90059c4f88592cc75a2f39ad3061}{JobType}}\ \mbox{\hyperlink{struct_job_a54b5041220d32132698962f324d7ac04}{type}};}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{enum\ struct}\ \mbox{\hyperlink{struct_job_a1b3469cb1f7c9b23629a576f9b252dce}{State}}\ \{}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a1b3469cb1f7c9b23629a576f9b252dcea223e06f5cb15fc701ea1e686f7934f4f}{Initialize}},}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a1b3469cb1f7c9b23629a576f9b252dcea47a69eb0158f89e7bb7c728518183cc3}{HeadingToStart}},}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a1b3469cb1f7c9b23629a576f9b252dceaeb069d24daf55bd5172114eb5c137806}{HeadingToEnd}},}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a1b3469cb1f7c9b23629a576f9b252dceaba9834c4b9985c102eeb06e03d59523c}{WorkingAtStart}},}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a1b3469cb1f7c9b23629a576f9b252dceaff55c397f2faf73dbd93f45832f659b7}{WorkingAtEnd}},}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a1b3469cb1f7c9b23629a576f9b252dcea07ca5050e697392c9ed47e6453f1453f}{Completed}}}
\DoxyCodeLine{00033\ \ \ \ \ \}\ \mbox{\hyperlink{struct_job_a5f001c363f99db97dc40cccbed8cbf26}{state}};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{struct_job_a7ffd2fbd60665c938405f4b807ecf0b5}{timePassedInCurrentState}}\ =\ 0.f;}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{struct_job_a939fa3d2e9453d89b608b277853bee39}{timeToComplete}}\ =\ 1.f;}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ \mbox{\hyperlink{struct_job_a36d7ce8c8419b6a196d0069a3ca53dc0}{start}};}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ \mbox{\hyperlink{struct_job_aa03693e1a7ac65c2b7327a39f176bbf7}{end}};}
\DoxyCodeLine{00040\ \ \ \ \ std::optional<vec2>\ \mbox{\hyperlink{struct_job_a6ca83b17472c1915ec5ed8668793e716}{local}};}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_job_a89e96ec1238197ae28fa63bcfba2c150}{path\_size}}\ =\ 0;}
\DoxyCodeLine{00042\ \ \ \ \ std::deque<vec2>\ \mbox{\hyperlink{struct_job_a1da9388afe093c9aa0cd32f05f864713}{path}};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{comment}{//\ AIPerson}}
\DoxyCodeLine{00045\ \ \ \ \ std::function<void(\mbox{\hyperlink{struct_entity}{Entity}}*,\ \mbox{\hyperlink{struct_job}{Job}}*)>\ \mbox{\hyperlink{struct_job_a7429ae14345980e303ffb83bdea17dc9}{on\_cleanup}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ std::map<std::string,\ void*>\ \mbox{\hyperlink{struct_job_a22eb4726b3b3fca6dd8d4b706167adc7}{data}};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{//\ WaitInQueue\ Job}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_job_ad4460fb88641f4f56aca942770e1316d}{spot\_in\_line}}\ =\ -\/1;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ [[nodiscard]]\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_job_adb7cddf20de91f00e39b6a78c5783679}{path\_empty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_job_a1da9388afe093c9aa0cd32f05f864713}{path}}.empty();\ \}}
\DoxyCodeLine{00053\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{const}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\&\ \mbox{\hyperlink{struct_job_aed0abfeaa030da3b3b72494a4a191377}{path\_front}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_job_a1da9388afe093c9aa0cd32f05f864713}{path}}.front();\ \}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_job_aa6f77ecb10351ff5336d27b6a07292f5}{path\_pop\_front}}()\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a1da9388afe093c9aa0cd32f05f864713}{path}}.pop\_front();}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a89e96ec1238197ae28fa63bcfba2c150}{path\_size}}\ =\ (int)\ \mbox{\hyperlink{struct_job_a1da9388afe093c9aa0cd32f05f864713}{path}}.size();}
\DoxyCodeLine{00057\ \ \ \ \ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_job_a866c096b6000b68a9cf4ee09bcf6b352}{update\_path}}(\textcolor{keyword}{const}\ std::deque<vec2>\&\ new\_path)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a1da9388afe093c9aa0cd32f05f864713}{path}}\ =\ new\_path;}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_job_a89e96ec1238197ae28fa63bcfba2c150}{path\_size}}\ =\ (int)\ \mbox{\hyperlink{struct_job_a1da9388afe093c9aa0cd32f05f864713}{path}}.size();}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{friend}\ bitsery::Access;}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{struct_job_adfda704d0875b9c7e1cf9607f55d2c58}{serialize}}(S\&\ s)\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ s.value4b(\mbox{\hyperlink{struct_job_a54b5041220d32132698962f324d7ac04}{type}});}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ s.value4b(\mbox{\hyperlink{struct_job_a5f001c363f99db97dc40cccbed8cbf26}{state}});}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ s.value4b(\mbox{\hyperlink{struct_job_a7ffd2fbd60665c938405f4b807ecf0b5}{timePassedInCurrentState}});}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ s.value4b(\mbox{\hyperlink{struct_job_a939fa3d2e9453d89b608b277853bee39}{timeToComplete}});}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ s.value4b(\mbox{\hyperlink{struct_job_ad4460fb88641f4f56aca942770e1316d}{spot\_in\_line}});}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ s.object(\mbox{\hyperlink{struct_job_a36d7ce8c8419b6a196d0069a3ca53dc0}{start}});}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ s.object(\mbox{\hyperlink{struct_job_aa03693e1a7ac65c2b7327a39f176bbf7}{end}});}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ s.value4b(\mbox{\hyperlink{struct_job_a89e96ec1238197ae28fa63bcfba2c150}{path\_size}});}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ s.ext(\mbox{\hyperlink{struct_job_a6ca83b17472c1915ec5ed8668793e716}{local}},\ bitsery::ext::StdOptional\{\});}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ s.container(\mbox{\hyperlink{struct_job_a1da9388afe093c9aa0cd32f05f864713}{path}},\ \mbox{\hyperlink{struct_job_a89e96ec1238197ae28fa63bcfba2c150}{path\_size}},\ [](S\&\ sv,\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ pos)\ \{\ sv.object(pos);\ \});}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ \};}

\end{DoxyCode}
