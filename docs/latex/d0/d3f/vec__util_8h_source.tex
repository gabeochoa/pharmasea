\hypertarget{vec__util_8h_source}{}\doxysection{vec\+\_\+util.\+h}
\label{vec__util_8h_source}\index{src/vec\_util.h@{src/vec\_util.h}}
\mbox{\hyperlink{vec__util_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{external__include_8h}{external\_include.h}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{globals_8h}{globals.h}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#ifndef\ EPSILON}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#define\ EPSILON\ 0.000001f}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{vec__util_8h_add3dd9e63d43f81591ca9e25b88470d7}{comp\_max}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\&\ a)\ \{\ \textcolor{keywordflow}{return}\ fmax(a.x,\ a.y);\ \}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{constexpr}\ BoundingBox\ \mbox{\hyperlink{vec__util_8h_a7bc0ade59022f5ab1ebe03a4d6cee6aa}{get\_bounds}}(\mbox{\hyperlink{graphics_8h_a308f9233b868e4e52062de502c3d9cef}{vec3}}\ position,\ \mbox{\hyperlink{graphics_8h_a308f9233b868e4e52062de502c3d9cef}{vec3}}\ size)\ \{}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keywordflow}{return}\ \{(\mbox{\hyperlink{graphics_8h_a308f9233b868e4e52062de502c3d9cef}{vec3}})\{}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ position.x\ -\/\ size.x\ /\ 2,}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ position.y\ -\/\ size.y\ /\ 2,}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ position.z\ -\/\ size.z\ /\ 2,}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{graphics_8h_a308f9233b868e4e52062de502c3d9cef}{vec3}})\{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ position.x\ +\ size.x\ /\ 2,}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ position.y\ +\ size.y\ /\ 2,}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ position.z\ +\ size.z\ /\ 2,}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ \ \ \}\};}
\DoxyCodeLine{00023\ \}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevec}{vec}}\ \{}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacevec_af3910db49dc587ff25894ab5e8e1fdcc}{neigh\_x}}[8]\ =\ \{-\/1,\ -\/1,\ -\/1,\ 0,\ 0,\ 1,\ 1,\ 1\};}
\DoxyCodeLine{00028\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacevec_a35e7b1db3053956001d23cb0dc07e081}{neigh\_y}}[8]\ =\ \{-\/1,\ 0,\ 1,\ -\/1,\ 1,\ -\/1,\ 0,\ 1\};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacevec_abca94cc6b9343e0e4c5c5acf0b80eda2}{forEachNeighbor}}(\textcolor{keywordtype}{int}\ i,\ \textcolor{keywordtype}{int}\ j,\ std::function<\textcolor{keywordtype}{void}(\textcolor{keyword}{const}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\&)>\ cb,}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ step\ =\ 1)\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ a\ =\ 0;\ a\ <\ 8;\ a++)\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ cb(\mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\{(float)\ i\ +\ (\mbox{\hyperlink{namespacevec_af3910db49dc587ff25894ab5e8e1fdcc}{neigh\_x}}[a]\ *\ step),}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)\ j\ +\ (\mbox{\hyperlink{namespacevec_a35e7b1db3053956001d23cb0dc07e081}{neigh\_y}}[a]\ *\ step)\});}
\DoxyCodeLine{00035\ \ \ \ \ \}}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{static}\ std::vector<vec2>\ \mbox{\hyperlink{namespacevec_adb9d98389871928fc1495f58786a7336}{get\_neighbors}}(\textcolor{keywordtype}{int}\ i,\ \textcolor{keywordtype}{int}\ j,\ \textcolor{keywordtype}{int}\ step\ =\ 1)\ \{}
\DoxyCodeLine{00039\ \ \ \ \ std::vector<vec2>\ ns;}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{namespacevec_abca94cc6b9343e0e4c5c5acf0b80eda2}{forEachNeighbor}}(}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ i,\ j,\ [\&](\textcolor{keyword}{const}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\&\ v)\ \{\ ns.push\_back(v);\ \},\ step);}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{return}\ ns;}
\DoxyCodeLine{00043\ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{keywordtype}{float}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevec_a3e18f73ec09c3b1c14c15a0a42c8405a}{newton\_raphson}}(\textcolor{keywordtype}{float}\ x,\ \textcolor{keywordtype}{float}\ cur,\ \textcolor{keywordtype}{float}\ prev)\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordflow}{return}\ cur\ ==\ prev\ ?\ cur\ :\ \mbox{\hyperlink{namespacevec_a3e18f73ec09c3b1c14c15a0a42c8405a}{newton\_raphson}}(x,\ 0.5f\ *\ (cur\ +\ x\ /\ cur),\ cur);}
\DoxyCodeLine{00047\ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keywordtype}{float}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespacevec_a20805d1426584aacd75c13c89856132f}{ce\_sqrtf}}(\textcolor{keywordtype}{float}\ x)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{return}\ x\ >=\ 0\ \&\&\ x\ <\ std::numeric\_limits<float>::infinity()}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespacevec_a3e18f73ec09c3b1c14c15a0a42c8405a}{newton\_raphson}}(x,\ x,\ 0)}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<float>::quiet\_NaN();}
\DoxyCodeLine{00053\ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacevec_a4780c4cb2388d6299519924ca0a609a1}{distance}}(\mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ a,\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ b)\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacevec_a20805d1426584aacd75c13c89856132f}{ce\_sqrtf}}((a.x\ -\/\ b.x)\ *\ (a.x\ -\/\ b.x)\ +\ (a.y\ -\/\ b.y)\ *\ (a.y\ -\/\ b.y));}
\DoxyCodeLine{00057\ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacevec_aabd3fc26e0da594069a9f344c48beb8d}{dot2}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\&\ a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\&\ b)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{return}\ (a.x\ *\ b.x\ +\ a.y\ *\ b.y);}
\DoxyCodeLine{00061\ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ \mbox{\hyperlink{namespacevec_a2b336372bfe6c8bd752922c357866a24}{norm}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\&\ a)\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{float}\ mag\ =\ \mbox{\hyperlink{namespacevec_aabd3fc26e0da594069a9f344c48beb8d}{dot2}}(a,\ a);}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordflow}{return}\ (a\ /\ mag);}
\DoxyCodeLine{00066\ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{graphics_8h_a308f9233b868e4e52062de502c3d9cef}{vec3}}\ \mbox{\hyperlink{namespacevec_a234aab197b01eb9b8f9163149e410399}{to3}}(\mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ position)\ \{\ \textcolor{keywordflow}{return}\ \{position.x,\ 0,\ position.y\};\ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ \mbox{\hyperlink{namespacevec_aa79cdef251ee2f487b55dba93ad63ea0}{to2}}(\mbox{\hyperlink{graphics_8h_a308f9233b868e4e52062de502c3d9cef}{vec3}}\ position)\ \{\ \textcolor{keywordflow}{return}\ \{position.x,\ position.z\};\ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ \mbox{\hyperlink{namespacevec_a5a3a9e37c6f80541240d5cb6cdb4fd4e}{snap}}(\mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ position)\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\mbox{\hyperlink{globals_8h_af3c09b249c48587aba215cce49091fa0}{TILESIZE}}\ *\ round(position.x\ /\ \mbox{\hyperlink{globals_8h_af3c09b249c48587aba215cce49091fa0}{TILESIZE}}),\ \ \textcolor{comment}{//}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{globals_8h_af3c09b249c48587aba215cce49091fa0}{TILESIZE}}\ *\ round(position.y\ /\ \mbox{\hyperlink{globals_8h_af3c09b249c48587aba215cce49091fa0}{TILESIZE}})\};}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{graphics_8h_a308f9233b868e4e52062de502c3d9cef}{vec3}}\ \mbox{\hyperlink{namespacevec_a5a3a9e37c6f80541240d5cb6cdb4fd4e}{snap}}(\mbox{\hyperlink{graphics_8h_a308f9233b868e4e52062de502c3d9cef}{vec3}}\ position)\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordflow}{return}\ \{\mbox{\hyperlink{globals_8h_af3c09b249c48587aba215cce49091fa0}{TILESIZE}}\ *\ round(position.x\ /\ \mbox{\hyperlink{globals_8h_af3c09b249c48587aba215cce49091fa0}{TILESIZE}}),\ \ \textcolor{comment}{//}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ position.y,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{globals_8h_af3c09b249c48587aba215cce49091fa0}{TILESIZE}}\ *\ round(position.z\ /\ \mbox{\hyperlink{globals_8h_af3c09b249c48587aba215cce49091fa0}{TILESIZE}})\};}
\DoxyCodeLine{00081\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ \mbox{\hyperlink{namespacevec_a0896021658bc6030ca3348ee3946a0b3}{lerp}}(\mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ a,\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\ b,\ \textcolor{keywordtype}{float}\ pct)\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{graphics_8h_acf64f2c7361f0fc6883a80cb1d698f28}{vec2}}\{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ (a.x\ *\ (1\ -\/\ pct))\ +\ (b.x\ *\ pct),}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ (a.y\ *\ (1\ -\/\ pct))\ +\ (b.y\ *\ pct),}
\DoxyCodeLine{00087\ \ \ \ \ \};}
\DoxyCodeLine{00088\ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \}\ \ \textcolor{comment}{//\ namespace\ vec}}

\end{DoxyCode}
