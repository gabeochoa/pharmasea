\hypertarget{shared_8h_source}{}\doxysection{shared.\+h}
\label{shared_8h_source}\index{src/network/shared.h@{src/network/shared.h}}
\mbox{\hyperlink{shared_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}../external\_include.h"{}}}
\DoxyCodeLine{00004\ \textcolor{comment}{//}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}../engine/keymap.h"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}../engine/time.h"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}../engine/toastmanager.h"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}../engine/util.h"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}../globals.h"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}../map.h"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{channel_8h}{internal/channel.h}}"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}steam/steamnetworkingtypes.h"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacebitsery}{bitsery}}\ \{}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceext}{ext}}\ \{}
\DoxyCodeLine{00017\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00018\ \textcolor{keyword}{struct\ }PolymorphicBaseClass<\mbox{\hyperlink{struct_base_component}{BaseComponent}}>}
\DoxyCodeLine{00019\ \ \ \ \ :\ PolymorphicDerivedClasses<}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ Transform,\ HasName,\ CanHoldItem,\ SimpleColoredBoxRenderer,}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ CanBeHighlighted,\ CanHighlightOthers,\ CanHoldFurniture,}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ CanBeGhostPlayer,\ CanPerformJob,\ ModelRenderer,\ CanBePushed,}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ CanHaveAilment,\ CustomHeldItemPosition,\ HasWork,\ HasBaseSpeed,}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ IsSolid,\ CanBeHeld,\ IsRotatable,\ CanGrabFromOtherFurniture,}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ ConveysHeldItem,\ HasWaitingQueue,\ CanBeTakenFrom,}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ IsItemContainer<Bag>,\ IsItemContainer<PillBottle>,}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ IsItemContainer<Pill>,\ UsesCharacterModel,\ ShowsProgressBar,}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ DebugName,\ HasDynamicModelName,\ IsTriggerArea,\ HasSpeechBubble,}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ Indexer,\ IsSpawner,\ HasTimer>\ \{\};}
\DoxyCodeLine{00030\ \textcolor{comment}{//\ If\ you\ add\ anything\ here\ \string^\string^\ then\ you\ should\ add\ that\ component\ to}}
\DoxyCodeLine{00031\ \textcolor{comment}{//\ register\_all\_components\ in\ entity.h}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00034\ \textcolor{keyword}{struct\ }PolymorphicBaseClass<\mbox{\hyperlink{struct_item}{Item}}>}
\DoxyCodeLine{00035\ \ \ \ \ :\ PolymorphicDerivedClasses<Bag,\ PillBottle,\ Pill>\ \{\};}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00038\ \textcolor{keyword}{struct\ }PolymorphicBaseClass<\mbox{\hyperlink{struct_job}{Job}}>}
\DoxyCodeLine{00039\ \ \ \ \ :\ PolymorphicDerivedClasses<WaitJob,\ WanderingJob,\ WaitInQueueJob,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LeavingJob>\ \{\};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00043\ \textcolor{keyword}{struct\ }PolymorphicBaseClass<\mbox{\hyperlink{struct_level_info}{LevelInfo}}>}
\DoxyCodeLine{00044\ \ \ \ \ :\ PolymorphicDerivedClasses<LobbyMapInfo,\ GameMapInfo>\ \{\};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \}\ \ \textcolor{comment}{//\ namespace\ ext}}
\DoxyCodeLine{00047\ \}\ \ \textcolor{comment}{//\ namespace\ bitsery}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{using\ }\mbox{\hyperlink{shared_8h_a52e7f8a375df95d4145e6fa530707517}{MyPolymorphicClasses}}\ =}
\DoxyCodeLine{00050\ \ \ \ \ bitsery::ext::PolymorphicClassesList<BaseComponent,\ Entity,\ Item,\ Job>;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacenetwork}{network}}\ \{}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacenetwork_a29be7e2bef152eba6aef822531d97755}{Buffer}}\ =\ std::string;}
\DoxyCodeLine{00055\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacenetwork_a4c1d8c886ed26a5faaf745b3c3d6f21d}{OutputAdapter}}\ =\ bitsery::OutputBufferAdapter<Buffer>;}
\DoxyCodeLine{00056\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacenetwork_a3ea4495de6489d670bf2162e24c5d712}{InputAdapter}}\ =\ bitsery::InputBufferAdapter<Buffer>;}
\DoxyCodeLine{00057\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacenetwork_a215ee2a162d057b1e7f5a737bb307787}{TContext}}\ =}
\DoxyCodeLine{00058\ \ \ \ \ std::tuple<bitsery::ext::PointerLinkingContext,}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bitsery::ext::PolymorphicContext<bitsery::ext::StandardRTTI>>;}
\DoxyCodeLine{00060\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacenetwork_a8adf04810dba253e7a2984df10f4e5b6}{BitserySerializer}}\ =\ bitsery::Serializer<OutputAdapter,\ TContext>;}
\DoxyCodeLine{00061\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacenetwork_a032d113aa0f59876ff1d8eef98d05db8}{BitseryDeserializer}}\ =\ bitsery::Deserializer<InputAdapter,\ TContext>;}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet}{ClientPacket}}\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \mbox{\hyperlink{channel_8h_a1ce9b523fd4f3b5bbcadcd796183455a}{Channel}}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_ad90966fdca7c47222a5b0f0e837d04bb}{channel}}\ =\ Channel::RELIABLE;}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_aac14602a4a11d31626bb53de7a1c8461}{client\_id}};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989f}{MsgType}}\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989faca8862f28ec5f9281f3310089ee1b0a2}{Announcement}},}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989fadc1689eb51fd7dccbf385b6c258afb23}{Map}},}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989fa27d768ec34bb2753f2f7ab235d14d57e}{GameState}},}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989faa79178dcf4b9ce19ac0fff77148d642c}{PlayerControl}},}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989fa12e7cf4cc4954a80632c66fa23f2e17a}{PlayerJoin}},}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989fa1920fa7b0acebea4b0195925abf5bb7f}{PlayerLeave}},}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989fa320147bb2c8639ba072b32dd21cb1067}{PlayerLocation}},}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989fa0d109cf255e2f4519253fb30b885adb1}{PlayerRare}},}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989fac95db7a89884c975082d6baac81094f0}{Ping}},}
\DoxyCodeLine{00077\ \ \ \ \ \}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_aee7665870f2a000055e34b3c6c8aec71}{msg\_type}};}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_ping_info}{PingInfo}}\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_ping_info_aa4c015c0ebf5bf79a1880ff7a33c7225}{ping}};}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_ping_info_a7bf50e2929851e0b937d289fff31b8e0}{pong}};}
\DoxyCodeLine{00082\ \ \ \ \ \};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_announcement_info}{AnnouncementInfo}}\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_announcement_info_a681ced998f0515648df7d956947043f1}{message}};}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{toastmanager_8h_ae413786da4913c98cb49e47afdd9645a}{AnnouncementType}}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_announcement_info_a2c5e4fb56ff4732876f31ffa2d1ffba1}{type}};}
\DoxyCodeLine{00087\ \ \ \ \ \};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{comment}{//\ Map\ Info}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_map_info}{MapInfo}}\ \{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_map}{Map}}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_map_info_a54deb7c898b4e0ae76f5d307549e52df}{map}};}
\DoxyCodeLine{00092\ \ \ \ \ \};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ Game\ Info}}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_game_state_info}{GameStateInfo}}\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO\ we\ likely\ dont\ need\ to\ send\ menu\ state\ anymore}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacemenu_a010aa2a545937970804803afb7977bc6}{menu::State}}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_game_state_info_a6259926b186b2a3291dfb422c5ca1836}{host\_menu\_state}};}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacegame_ae87aa40decbe65eaf21f2d039e7375d6}{game::State}}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_game_state_info_a5c9f88a7a511ed12da369c6f9c887020}{host\_game\_state}};}
\DoxyCodeLine{00099\ \ \ \ \ \};}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{//\ Packet\ containing\ a\ recent\ keypress}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_control_info}{PlayerControlInfo}}\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{keymap_8h_ad1c40a46c4f782024e5b241ac9944d82}{UserInputs}}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_control_info_abcece1e2be9dc530deb57631e137cf6b}{inputs}};}
\DoxyCodeLine{00104\ \ \ \ \ \};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ Player\ Join}}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ NOTE:\ anything\ added\ here\ is\ also\ added\ to\ player\ info}}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_join_info}{PlayerJoinInfo}}\ \{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ std::vector<int>\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_join_info_a161a9ab1162e7c192b33e8f5bdcffdc1}{all\_clients}};}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_join_info_a5dd4ddc1456ab2f8f370e110b16cf0a5}{client\_id}}\ =\ -\/1;}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_join_info_a14978b79490bc801f721c447322a2540}{hashed\_version}};}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_join_info_a639b991942d32a9e68ec064ffe6d2cf1}{is\_you}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_join_info_a2c7c7cdfd4fa3e762ba86a92e4cf80db}{username}}\{\};}
\DoxyCodeLine{00114\ \ \ \ \ \};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_leave_info}{PlayerLeaveInfo}}\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ std::vector<int>\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_leave_info_a1f25c0ec5c584f75629598de7c845b3e}{all\_clients}};}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_leave_info_a6cc9190c08a805752d120c2da4b04360}{client\_id}}\ =\ -\/1;}
\DoxyCodeLine{00119\ \ \ \ \ \};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{comment}{//\ Player\ Location}}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_info}{PlayerInfo}}\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_info_ae4d2bf6f11c4d17371b63a8fd707064e}{facing\_direction}};}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_info_a85880eaecedbd9cd34572b0d54a24c9e}{location}}[3];}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_info_aae10affa9960f11f59a2e248ef8dac00}{username}}\{\};}
\DoxyCodeLine{00126\ \ \ \ \ \};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_rare_info}{PlayerRareInfo}}\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_rare_info_a9fa5d316bfd6745605b51c79940e8484}{client\_id}}\ =\ -\/1;}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_rare_info_a30ccf35618282cab8102afd5a3513d24}{model\_index}};}
\DoxyCodeLine{00131\ \ \ \ \ \};}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keyword}{typedef}\ std::variant<}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_announcement_info}{ClientPacket::AnnouncementInfo}},\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_control_info}{ClientPacket::PlayerControlInfo}},}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_join_info}{ClientPacket::PlayerJoinInfo}},\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_game_state_info}{ClientPacket::GameStateInfo}},}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_map_info}{ClientPacket::MapInfo}},\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_info}{ClientPacket::PlayerInfo}},}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_leave_info}{ClientPacket::PlayerLeaveInfo}},\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_rare_info}{ClientPacket::PlayerRareInfo}},}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_ping_info}{ClientPacket::PingInfo}}>}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_aaeca9f49b09a552b6c3d6232624663d5}{Msg}};}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet_aaeca9f49b09a552b6c3d6232624663d5}{Msg}}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_a5c08535f0530c222b70c237a08794381}{msg}};}
\DoxyCodeLine{00142\ \};}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ std::ostream\&\ \mbox{\hyperlink{namespacenetwork_a02b9b0a0243a952eafed46322f6cc207}{operator<<}}(std::ostream\&\ os,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_aaeca9f49b09a552b6c3d6232624663d5}{ClientPacket::Msg}}\&\ msgtype)\ \{}
\DoxyCodeLine{00145\ \ \ \ \ os\ <<\ std::visit(}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structutil_1_1overloaded}{util::overloaded}}\{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_announcement_info}{ClientPacket::AnnouncementInfo}}\ info)\ \{}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}Announcement:\ \{\}"{}},\ info.message);}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_join_info}{ClientPacket::PlayerJoinInfo}}\ info)\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}PlayerJoinInfo(\ is\_you:\ \{\},\ id:\ \{\})"{}},}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ info.is\_you,\ info.client\_id);}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_control_info}{ClientPacket::PlayerControlInfo}}\ info)\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}PlayerControlInfo(\ num\_inputs:\ \{\})"{}},}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ info.inputs.size());}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_game_state_info}{ClientPacket::GameStateInfo}}\ info)\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}GameStateInfo(\ menu:\ \{\}\ game:\ \{\})"{}},}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ info.host\_menu\_state,\ info.host\_game\_state);}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_map_info}{ClientPacket::MapInfo}})\ \{\ \textcolor{keywordflow}{return}\ std::string(\textcolor{stringliteral}{"{}map\ info"{}});\ \},}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_info}{ClientPacket::PlayerInfo}}\ info)\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}PlayerInfo(\ pos(\{\},\ \{\},\ \{\}),\ facing\ \{\})"{}},}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ info.location[0],\ info.location[1],}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ info.location[2],\ info.facing\_direction);}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_leave_info}{ClientPacket::PlayerLeaveInfo}}\ info)\ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}PlayerLeave(\{\})"{}},\ info.client\_id);}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_rare_info}{ClientPacket::PlayerRareInfo}}\ info)\ \{}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}PlayerRare(\{\})"{}},\ info.client\_id);}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_ping_info}{ClientPacket::PingInfo}}\ info)\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fmt::format(\textcolor{stringliteral}{"{}Ping(\{\},\ \{\})"{}},\ info.ping,\ info.pong);}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\textcolor{keyword}{auto})\ \{\ \textcolor{keywordflow}{return}\ std::string(\textcolor{stringliteral}{"{}\ -\/-\/\ invalid\ operator<<\ -\/-\/"{}});\ \}\},}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ msgtype);}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordflow}{return}\ os;}
\DoxyCodeLine{00180\ \}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ std::ostream\&\ \mbox{\hyperlink{namespacenetwork_a02b9b0a0243a952eafed46322f6cc207}{operator<<}}(std::ostream\&\ os,}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structnetwork_1_1_client_packet_a456cccdbeface82675259d9929db989f}{ClientPacket::MsgType}}\&\ msgtype)\ \{}
\DoxyCodeLine{00184\ \ \ \ \ os\ <<\ magic\_enum::enum\_name(msgtype);}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordflow}{return}\ os;}
\DoxyCodeLine{00186\ \}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ std::ostream\&\ \mbox{\hyperlink{namespacenetwork_a02b9b0a0243a952eafed46322f6cc207}{operator<<}}(std::ostream\&\ os,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structnetwork_1_1_client_packet}{ClientPacket}}\&\ packet)\ \{}
\DoxyCodeLine{00189\ \ \ \ \ os\ <<\ \textcolor{stringliteral}{"{}Packet("{}}\ <<\ packet.\mbox{\hyperlink{structnetwork_1_1_client_packet_aac14602a4a11d31626bb53de7a1c8461}{client\_id}}\ <<\ \textcolor{stringliteral}{"{}:\ "{}}\ <<\ packet.\mbox{\hyperlink{structnetwork_1_1_client_packet_aee7665870f2a000055e34b3c6c8aec71}{msg\_type}}\ <<\ \textcolor{stringliteral}{"{}\ "{}}}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ <<\ packet.\mbox{\hyperlink{structnetwork_1_1_client_packet_a5c08535f0530c222b70c237a08794381}{msg}}\ <<\ \textcolor{stringliteral}{"{})"{}}\ <<\ std::endl;}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{return}\ os;}
\DoxyCodeLine{00192\ \}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ S>}
\DoxyCodeLine{00195\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacenetwork_a1e62ea975ea4c7dcb8a7fb13f347d831}{serialize}}(S\&\ s,\ \mbox{\hyperlink{structnetwork_1_1_client_packet}{ClientPacket}}\&\ packet)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ s.value4b(packet.\mbox{\hyperlink{structnetwork_1_1_client_packet_ad90966fdca7c47222a5b0f0e837d04bb}{channel}});}
\DoxyCodeLine{00197\ \ \ \ \ s.value4b(packet.\mbox{\hyperlink{structnetwork_1_1_client_packet_aac14602a4a11d31626bb53de7a1c8461}{client\_id}});}
\DoxyCodeLine{00198\ \ \ \ \ s.value4b(packet.\mbox{\hyperlink{structnetwork_1_1_client_packet_aee7665870f2a000055e34b3c6c8aec71}{msg\_type}});}
\DoxyCodeLine{00199\ \ \ \ \ s.ext(packet.\mbox{\hyperlink{structnetwork_1_1_client_packet_a5c08535f0530c222b70c237a08794381}{msg}},}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ bitsery::ext::StdVariant\{}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](S\&\ s,\ ClientPacket::AnnouncementInfo\&\ info)\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.text1b(info.message,\ MAX\_ANNOUNCEMENT\_LENGTH);}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.type);}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](S\&\ s,\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_join_info}{ClientPacket::PlayerJoinInfo}}\&\ info)\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.container4b(info.all\_clients,\ MAX\_CLIENTS);}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value1b(info.is\_you);}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value8b(info.hashed\_version);}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.client\_id);}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.text1b(info.username,\ MAX\_NAME\_LENGTH);}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](S\&\ s,\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_leave_info}{ClientPacket::PlayerLeaveInfo}}\&\ info)\ \{}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.container4b(info.all\_clients,\ MAX\_CLIENTS);}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.client\_id);}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](S\&\ s,\ \mbox{\hyperlink{structnetwork_1_1_client_packet_1_1_player_control_info}{ClientPacket::PlayerControlInfo}}\&\ info)\ \{}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.container(}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ info.inputs,\ MAX\_INPUTS,\ [](S\&\ sv,\ UserInput\&\ input)\ \{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sv.ext(}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ input,}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bitsery::ext::StdTuple\{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](auto\&\ s,\ menu::State\&\ o)\ \{\ s.value4b(o);\ \},}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](auto\&\ s,\ game::State\&\ o)\ \{\ s.value4b(o);\ \},}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](auto\&\ s,\ InputName\&\ o)\ \{\ s.value4b(o);\ \},}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](auto\&\ s,\ InputSet\&\ o)\ \{}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.ext(o,\ bitsery::ext::StdBitset\{\});}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](auto\&\ s,\ float\&\ o)\ \{\ s.value4b(o);\ \}\});}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](S\&\ s,\ ClientPacket::GameStateInfo\&\ info)\ \{}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.host\_menu\_state);}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.host\_game\_state);}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](S\&\ s,\ ClientPacket::MapInfo\&\ info)\ \{\ s.object(info.map);\ \},}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](S\&\ s,\ ClientPacket::PlayerInfo\&\ info)\ \{}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.text1b(info.username,\ \mbox{\hyperlink{namespacenetwork_ab21ff1d434d3028a68dc8e97cbfa62fd}{MAX\_NAME\_LENGTH}});}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.location[0]);}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.location[1]);}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.location[2]);}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.facing\_direction);}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](S\&\ s,\ ClientPacket::PlayerRareInfo\&\ info)\ \{}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.client\_id);}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.model\_index);}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](S\&\ s,\ ClientPacket::PingInfo\&\ info)\ \{}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{comment}{//\ Im\ not\ sure\ if\ this\ will\ cause\ issues\ with\ networked\ clients,}}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{comment}{//\ but\ this\ allows\ it\ to\ complile\ for\ now}}
\DoxyCodeLine{00250\ \textcolor{preprocessor}{\#ifdef\ \_\_APPLE\_\_}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value8b(info.ping);}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value8b(info.pong);}
\DoxyCodeLine{00253\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.ping);}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.value4b(info.pong);}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00259\ \}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetwork_a29be7e2bef152eba6aef822531d97755}{Buffer}}\ \mbox{\hyperlink{namespacenetwork_a3712f2490af7bbbb26a86f8386f53e2d}{serialize\_to\_entity}}(\mbox{\hyperlink{struct_entity}{Entity}}*\ entity)\ \{}
\DoxyCodeLine{00262\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a29be7e2bef152eba6aef822531d97755}{Buffer}}\ buffer;}
\DoxyCodeLine{00263\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a215ee2a162d057b1e7f5a737bb307787}{TContext}}\ ctx\{\};}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ std::get<1>(ctx).registerBasesList<\mbox{\hyperlink{namespacenetwork_a8adf04810dba253e7a2984df10f4e5b6}{BitserySerializer}}>(}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{shared_8h_a52e7f8a375df95d4145e6fa530707517}{MyPolymorphicClasses}}\{\});}
\DoxyCodeLine{00267\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a8adf04810dba253e7a2984df10f4e5b6}{BitserySerializer}}\ ser\{ctx,\ buffer\};}
\DoxyCodeLine{00268\ \ \ \ \ ser.object(*entity);}
\DoxyCodeLine{00269\ \ \ \ \ ser.adapter().flush();}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \ \ \ \ \textcolor{keywordflow}{return}\ buffer;}
\DoxyCodeLine{00272\ \}}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacenetwork_ab48c5d518addcd26284b31cb5b15b9b4}{deserialize\_to\_entity}}(\mbox{\hyperlink{struct_entity}{Entity}}*\ entity,\ \textcolor{keyword}{const}\ std::string\&\ msg)\ \{}
\DoxyCodeLine{00275\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a215ee2a162d057b1e7f5a737bb307787}{TContext}}\ ctx\{\};}
\DoxyCodeLine{00276\ \ \ \ \ std::get<1>(ctx).registerBasesList<\mbox{\hyperlink{namespacenetwork_a032d113aa0f59876ff1d8eef98d05db8}{BitseryDeserializer}}>(}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{shared_8h_a52e7f8a375df95d4145e6fa530707517}{MyPolymorphicClasses}}\{\});}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a032d113aa0f59876ff1d8eef98d05db8}{BitseryDeserializer}}\ des\{ctx,\ msg.begin(),\ msg.size()\};}
\DoxyCodeLine{00280\ \ \ \ \ des.object(*entity);}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keywordflow}{switch}\ (des.adapter().error())\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ bitsery::ReaderError::NoError:}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ bitsery::ReaderError::ReadingError:}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8h_a6ae72553ea9805dd87a463d6f710364d}{log\_error}}(\textcolor{stringliteral}{"{}reading\ error"{}});}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ bitsery::ReaderError::DataOverflow:}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8h_a6ae72553ea9805dd87a463d6f710364d}{log\_error}}(\textcolor{stringliteral}{"{}data\ overflow\ error"{}});}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ bitsery::ReaderError::InvalidData:}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8h_a6ae72553ea9805dd87a463d6f710364d}{log\_error}}(\textcolor{stringliteral}{"{}invalid\ data\ error"{}});}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ bitsery::ReaderError::InvalidPointer:}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log_8h_a6ae72553ea9805dd87a463d6f710364d}{log\_error}}(\textcolor{stringliteral}{"{}invalid\ pointer\ error"{}});}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00297\ \ \ \ \ \}}
\DoxyCodeLine{00298\ \ \ \ \ assert(des.adapter().error()\ ==\ bitsery::ReaderError::NoError);}
\DoxyCodeLine{00299\ \}}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \textcolor{comment}{//\ ClientPacket\ is\ in\ shared.h\ which\ is\ specific\ to\ the\ game,}}
\DoxyCodeLine{00302\ \textcolor{comment}{//\ TODO\ how\ can\ we\ support\ both\ abstract\ while\ also\ configuration}}
\DoxyCodeLine{00303\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structnetwork_1_1_client_packet}{ClientPacket}}\ \mbox{\hyperlink{namespacenetwork_ad932db30302c4abac18d38f4e2861ae9}{deserialize\_to\_packet}}(\textcolor{keyword}{const}\ std::string\&\ msg)\ \{}
\DoxyCodeLine{00304\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a215ee2a162d057b1e7f5a737bb307787}{TContext}}\ ctx\{\};}
\DoxyCodeLine{00305\ \ \ \ \ std::get<1>(ctx).registerBasesList<\mbox{\hyperlink{namespacenetwork_a032d113aa0f59876ff1d8eef98d05db8}{BitseryDeserializer}}>(}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{shared_8h_a52e7f8a375df95d4145e6fa530707517}{MyPolymorphicClasses}}\{\});}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a032d113aa0f59876ff1d8eef98d05db8}{BitseryDeserializer}}\ des\{ctx,\ msg.begin(),\ msg.size()\};}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ \ \ \mbox{\hyperlink{structnetwork_1_1_client_packet}{ClientPacket}}\ packet;}
\DoxyCodeLine{00311\ \ \ \ \ des.object(packet);}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{comment}{//\ TODO\ obviously\ theres\ a\ ton\ of\ validation\ we\ can\ do\ here\ but\ idk}}
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{comment}{//\ https://github.com/fraillt/bitsery/blob/master/examples/smart\_pointers\_with\_polymorphism.cpp}}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{keywordflow}{return}\ packet;}
\DoxyCodeLine{00315\ \}}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacenetwork_a29be7e2bef152eba6aef822531d97755}{Buffer}}\ \mbox{\hyperlink{namespacenetwork_a1e89934295cdfdc98ecd3a5410acc512}{serialize\_to\_buffer}}(\mbox{\hyperlink{structnetwork_1_1_client_packet}{ClientPacket}}\ packet)\ \{}
\DoxyCodeLine{00318\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a29be7e2bef152eba6aef822531d97755}{Buffer}}\ buffer;}
\DoxyCodeLine{00319\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a215ee2a162d057b1e7f5a737bb307787}{TContext}}\ ctx\{\};}
\DoxyCodeLine{00320\ }
\DoxyCodeLine{00321\ \ \ \ \ std::get<1>(ctx).registerBasesList<\mbox{\hyperlink{namespacenetwork_a8adf04810dba253e7a2984df10f4e5b6}{BitserySerializer}}>(}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{shared_8h_a52e7f8a375df95d4145e6fa530707517}{MyPolymorphicClasses}}\{\});}
\DoxyCodeLine{00323\ \ \ \ \ \mbox{\hyperlink{namespacenetwork_a8adf04810dba253e7a2984df10f4e5b6}{BitserySerializer}}\ ser\{ctx,\ buffer\};}
\DoxyCodeLine{00324\ \ \ \ \ ser.object(packet);}
\DoxyCodeLine{00325\ \ \ \ \ ser.adapter().flush();}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{keywordflow}{return}\ buffer;}
\DoxyCodeLine{00328\ \}}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00330\ \}\ \ \textcolor{comment}{//\ namespace\ network}}

\end{DoxyCode}
