{
  "rounds": [
      "upgrade",
      "upgrade",
      "drink",
      "drink",
      "none"
  ],
  "config": [
      {
          "name": "round_length",
          "value": 100.0
      },
      {
          "name": "max_num_orders",
          "value": 1
      },
      {
          "name": "patience_multiplier",
          "value": 1.0
      },
      {
          "name": "customer_spawn_multiplier",
          "value": 1.0
      },
      {
          "name": "num_store_spawns",
          "value": 5
      },
      {
          "name": "drink_cost_multiplier",
          "value": 1.0
      },
      {
          "name": "unlocked_toilet",
          "value": false
      },
      {
          "name": "piss_timer",
          "value": 2.5
      },
      {
          "name": "bladder_size",
          "value": 1
      },
      {
          "name": "has_city_multiplier",
          "value": false
      },
      {
          "name": "vomit_freq_multiplier",
          "value": 1.0
      },
      {
          "name": "vomit_amount_multiplier",
          "value": 1.0
      },
      {
          "name": "day_count",
          "value": 1
          // TODO have some way of marking this const
      },
      {
          "name": "entity",
          "value": "invalid"
      },
      {
          "name": "drink",
          "value": "invalid"
      },
      {
          "name": "customer_spawn",
          "value": "invalid"
      }
  ],
  "upgrades": [
      {
          "name": "Longer Day",
          "icon_name": "longer_day",
          "flavor_text": "Find an extra couple hours in the day.",
          "description": "(Makes the day twice as long)",
          "upgrade_effects": {
              "on_unlock": [
                  {
                      "name": "round_length",
                      "operation": "multiplier",
                      "value": 2.0
                  }
              ],
              "on_hour": {}
          },
          "prereqs": [
          ]
      },
      {
          "name": "Happy Hour",
          "icon_name": "happy_hour",
          "flavor_text": "all the buzz at half the price",
          "description": "(More people at the beginning of the day but cheaper drinks)",
          "upgrade_effects": {
              "on_unlock": [],
              "on_hour": {
                  "10-15": [
                      {
                          "name": "drink_cost_multiplier",
                          "operation": "multiplier",
                          "value": 0.75
                      },
                      {
                          "name": "customer_spawn",
                          "operation": "custom",
                          "value": "custom"
                      }
                  ]
              }
          },
          "prereqs": [
          ]
      },
      {
          "name": "Gotta go",
          "icon_name": "gotta_go",
          "flavor_text": "Drinking has its consequences.",
          "description": "(Customers will order twice, but will need to go to the bathroom)",
          "upgrade_effects": {
              "on_unlock": [
                  {
                      "name": "max_num_orders",
                      "operation": "multiplier",
                      "value": 2.0
                  },
                  {
                      "name": "unlocked_toilet",
                      "operation": "set",
                      "value": true
                  },
                  {
                      "name": "entity",
                      "operation": "custom",
                      "value": "toilet"
                  }
              ],
              "on_hour": {}
          },
          "required_machines": [
              "toilet"
          ],
          "prereqs": [
              {
                  "name": "unlocked_toilet",
                  "value": false 
              }
          ]
      },
      {
          "disabled": "Working as expected",
          "name": "Big Bladders",
          "flavor_text": "I've been training.",
          "description": "(Customers will got to the bathroom less often but for longer)",
          "upgrade_effects": {
              "on_unlock": [
                  {
                      "name": "piss_timer",
                      "operation": "multiplier",
                      "value": 2.0
                  },
                  {
                      "name": "bladder_size",
                      "operation": "multiplier",
                      "value": 2.0
                  }
              ],
              "on_hour": {}
          },
          "prereqs": [
              {
                  "name": "unlocked_toilet",
                  "value": true
              }
          ]
      },
      {
          "disabled": "Working as expected",
          "name": "Big City",
          "flavor_text": "I'm walking 'ere.",
          "description": "(Customers pay double but have less patience)",
          "upgrade_effects": {
              "on_unlock": [
                  {
                      "name": "patience_multiplier",
                      "operation": "multiplier",
                      "value": 0.5
                  },
                  {
                      "name": "drink_cost_multiplier",
                      "operation": "multiplier",
                      "value": 2.0
                  },
                  {
                      "name": "has_city_multiplier",
                      "operation": "set",
                      "value":true 
                  }
              ],
              "on_hour": {}
          },
          "prereqs": [
              {
                  "name": "has_city_multiplier",
                  "value": false
              }
          ]
      },
      {
          "disabled": "Working as expected",
          "name": "Small Town",
          "flavor_text": "This town ain't big enough for the two of us.",
          "description": "(Customers pay half but have double patience)",
          "upgrade_effects": {
              "on_unlock": [
                  {
                      "name": "patience_multiplier",
                      "operation": "multiplier",
                      "value": 2.0
                  },
                  {
                      "name": "drink_cost_multiplier",
                      "operation": "multiplier",
                      "value": 0.5
                  },
                  {
                      "name": "has_city_multiplier",
                      "operation": "set",
                      "value":true 
                  }
              ],
              "on_hour": {}
          },
          "prereqs": [
              {
                  "name": "has_city_multiplier",
                  "value": false
              }
          ]

      },
      {
          //"disabled": "Working as expected",
          "name": "Pitcher",
          "flavor_text": "its actually a carafe.",
          "description": "(Unlocks a pitcher which can store up to 10 drinks)",
          "upgrade_effects": {
              "on_unlock": [
                  {
                      // This isnt marked required, so we dont spawn it, 
                      // but should we spawn a free one? 
                      "name": "entity",
                      "operation": "custom",
                      "value": "pitcher_cupboard"
                  }
              ],
              "on_hour": {}
          },
          "prereqs": []
      },
      {
          // TODO 
          "disabled": "Not Working Key",
          "name": "me and the boys",
          "flavor_text": "crackin open a cold one or two... or ten .",
          "description": "(Customers will now order a pitcher of beer)",
          "upgrade_effects": {
              "on_unlock": [
                  // Need some way to have that be a recipe? 
              ],
              "on_hour": {}
          },
          "required_machines": [
              "pitcher_cupboard"
          ],
          "prereqs": [
              {
                  "name": "entity",
                  "value": "pitcher_cupboard"
              },
              {
                  "name": "drink",
                  "value": "beer"
              }
          ]
      },
      {
          "disabled": "Temporaries are not supported yet",
          "name": "Live Band",
          "flavor_text": ".",
          "description": "(More customers for one day!)",
          // I dont actually think we need to do this because ... 
          // as long as we are okay with the guitar not doing anything else 
          // we can just have it do all the logic 
          // this would mean that we cant control it through config but thats future me's problem
          "duration": 1,
          "upgrade_effects": {
              "on_unlock": [
                  {
                      "name": "entity",
                      "operation": "custom",
                      "value": "toilet"
                  }
              ],
              "on_hour": {}
          },
          "required_machines": [
              // "guitar"
          ],
          "prereqs": []
      },
      {
          "name": "Fake Upgrade",
          "flavor_text": "flavor text flavor text flavor text.",
          "description": "(description description description description description description description description)",
          "upgrade_effects": {
              "on_unlock": [],
              "on_hour": {}
          },
          "prereqs": [
              {
                  "name": "day_count",
                  "value": 2
              }
          ]
    },
     {
          "name": "Champagne",
          "icon_name": "upgrade_champagne",
          "flavor_text": "someone get the bandaids.",
          "description": "(Unlocks Champagne which needs to be saber'd before pouring)",
          "required_machines": [
              "champagne_holder"
          ],
          "upgrade_effects": {
              "on_unlock": [
                  {
                      "name": "drink",
                      "operation": "custom",
                      "value": "champagne"
                  },
                  {
                      "name": "entity",
                      "operation": "custom",
                      "value": "champagne_holder"
                  }
              ],
              "on_hour": {}
          },
          "prereqs": []
      }
  ]
}
